#!/bin/bash
# Pre-push linting check script
# This script runs the same checks as GitHub Actions CI

set -e

echo "ğŸ” Running RuboCop (same as GitHub Actions lint job)..."
bin/rubocop -f github

echo "âœ… RuboCop passed!"

echo ""
echo "ğŸ”’ Running Brakeman security scan..."
bin/brakeman --no-pager

echo "âœ… Brakeman passed!"

echo ""
echo "ğŸ”’ Running Bundler Audit..."
bin/bundler-audit

echo "âœ… Bundler Audit passed!"

echo ""
echo "ğŸ§ª Running tests..."
bin/rails db:test:prepare test

echo "âœ… All tests passed!"

echo ""
echo "ğŸ‰ All checks passed! Your code matches GitHub Actions requirements."
